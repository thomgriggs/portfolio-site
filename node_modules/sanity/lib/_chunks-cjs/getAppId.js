"use strict";
var chalk = require("chalk");
function _interopDefaultCompat(e) {
  return e && typeof e == "object" && "default" in e ? e : { default: e };
}
var chalk__default = /* @__PURE__ */ _interopDefaultCompat(chalk);
function getAppId({
  cliConfig,
  output
}) {
  const hasOldCliConfigFlag = cliConfig && "app" in cliConfig && cliConfig.app && "id" in cliConfig.app, hasNewCliConfigFlag = cliConfig && "deployment" in cliConfig && cliConfig.deployment && "appId" in cliConfig.deployment;
  if (hasOldCliConfigFlag && hasNewCliConfigFlag)
    throw new Error("Found both `app.id` (deprecated) and `deployment.appId` in sanity.cli.js. Please remove the deprecated `app.id`.");
  const appId = hasOldCliConfigFlag ? cliConfig.app?.id : cliConfig?.deployment?.appId;
  return hasOldCliConfigFlag && output?.warn(chalk__default.default.yellow(`The \`app.id\` config has moved to \`deployment.appId\`.
Please update \`sanity.cli.ts\` or \`sanity.cli.js\` and move:
${chalk__default.default.red(`app: {id: "${appId}", ... }`)}
to
${chalk__default.default.green(`deployment: {appId: "${appId}", ... }}`)})
`)), appId;
}
exports.getAppId = getAppId;
//# sourceMappingURL=getAppId.js.map
