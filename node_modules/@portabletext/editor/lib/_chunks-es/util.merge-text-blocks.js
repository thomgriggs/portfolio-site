import { isTextBlock } from "@portabletext/schema";
import { parseBlock } from "./util.slice-blocks.js";
function mergeTextBlocks({
  context,
  targetBlock,
  incomingBlock
}) {
  const parsedIncomingBlock = parseBlock({
    context,
    block: incomingBlock,
    options: {
      removeUnusedMarkDefs: !0,
      validateFields: !1
    }
  });
  return !parsedIncomingBlock || !isTextBlock(context, parsedIncomingBlock) ? targetBlock : {
    ...targetBlock,
    children: [...targetBlock.children, ...parsedIncomingBlock.children],
    markDefs: [...targetBlock.markDefs ?? [], ...parsedIncomingBlock.markDefs ?? []]
  };
}
export {
  mergeTextBlocks
};
//# sourceMappingURL=util.merge-text-blocks.js.map
