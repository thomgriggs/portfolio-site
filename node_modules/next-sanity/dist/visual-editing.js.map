{"version":3,"file":"visual-editing.js","sources":["../src/visual-editing/VisualEditing.tsx"],"sourcesContent":["import type {VisualEditingProps} from 'next-sanity/visual-editing/client-component'\nimport VisualEditingComponent from 'next-sanity/visual-editing/client-component'\n\n/**\n * @public\n */\nexport function VisualEditing(props: VisualEditingProps): React.ReactElement {\n  let autoBasePath: string | undefined\n  if (typeof props.basePath !== 'string') {\n    try {\n      autoBasePath = process.env['__NEXT_ROUTER_BASEPATH']\n      if (autoBasePath) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Detected next basePath as ${JSON.stringify(autoBasePath)} by reading \"process.env.__NEXT_ROUTER_BASEPATH\". If this is incorrect then you can set it manually with the basePath prop on the <VisualEditing /> component.`,\n        )\n      }\n    } catch (err) {\n      console.error('Failed detecting basePath', err)\n    }\n  }\n  let autoTrailingSlash: boolean | undefined\n  if (typeof props.trailingSlash !== 'boolean') {\n    try {\n      autoTrailingSlash = Boolean(process.env['__NEXT_TRAILING_SLASH'])\n      if (autoTrailingSlash) {\n        // eslint-disable-next-line no-console\n        console.log(\n          `Detected next trailingSlash as ${JSON.stringify(autoTrailingSlash)} by reading \"process.env.__NEXT_TRAILING_SLASH\". If this is incorrect then you can set it manually with the trailingSlash prop on the <VisualEditing /> component.`,\n        )\n      }\n    } catch (err) {\n      console.error('Failed detecting trailingSlash', err)\n    }\n  }\n  return (\n    <VisualEditingComponent\n      {...props}\n      basePath={props.basePath ?? autoBasePath}\n      trailingSlash={props.trailingSlash ?? autoTrailingSlash}\n    />\n  )\n}\n\nexport type {VisualEditingProps} from 'next-sanity/visual-editing/client-component'\n"],"names":[],"mappings":";;AAMO,SAAS,cAAc,OAA+C;AAC3E,MAAI;AACJ,MAAI,OAAO,MAAM,YAAa;AAC5B,QAAI;AACF,qBAAe,QAAQ,IAAI,wBACvB,gBAEF,QAAQ;AAAA,QACN,6BAA6B,KAAK,UAAU,YAAY,CAAC;AAAA,MAAA;AAAA,IAG/D,SAAS,KAAK;AACZ,cAAQ,MAAM,6BAA6B,GAAG;AAAA,IAChD;AAEF,MAAI;AACJ,MAAI,OAAO,MAAM,iBAAkB;AACjC,QAAI;AACF,0BAAoB,CAAA,CAAQ,QAAQ,IAAI,uBACpC,qBAEF,QAAQ;AAAA,QACN,kCAAkC,KAAK,UAAU,iBAAiB,CAAC;AAAA,MAAA;AAAA,IAGzE,SAAS,KAAK;AACZ,cAAQ,MAAM,kCAAkC,GAAG;AAAA,IACrD;AAEF,SACE;AAAA,IAAC;AAAA,IAAA;AAAA,MACE,GAAG;AAAA,MACJ,UAAU,MAAM,YAAY;AAAA,MAC5B,eAAe,MAAM,iBAAiB;AAAA,IAAA;AAAA,EAAA;AAG5C;"}