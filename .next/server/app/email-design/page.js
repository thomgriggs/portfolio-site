(()=>{var a={};a.id=734,a.ids=[734],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5903:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,65169,23))},10846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},15075:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>h,metadata:()=>g});var d=c(75338),e=c(65169),f=c.n(e);let g={title:"Email Design",description:"Explore Thom Griggs&apos; modular email templates and design approach for responsive, accessible email campaigns."};function h(){return(0,d.jsxs)("main",{className:"min-h-screen",children:[(0,d.jsxs)("section",{className:"max-w-4xl mx-auto px-6 py-16",children:[(0,d.jsxs)("div",{className:"text-center mb-12",children:[(0,d.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Email Design"}),(0,d.jsx)("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Modular, responsive email templates that work across all clients and devices"})]}),(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsx)(f(),{href:"/",className:"inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 transition-colors",children:"← Back to Home"})})]}),(0,d.jsxs)("section",{className:"max-w-4xl mx-auto px-6 pb-16",children:[(0,d.jsxs)("div",{className:"mb-12",children:[(0,d.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Why Email Design Matters"}),(0,d.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 mb-6 leading-relaxed",children:"Email remains one of the most effective marketing channels, but it's also one of the most challenging to design for. With dozens of email clients, varying support for CSS, and the need for accessibility, creating emails that work everywhere requires a different approach than web design."}),(0,d.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-300 leading-relaxed",children:"I build modular email templates using MJML and hand-coded HTML that render beautifully across devices and clients, ensuring your brand message reaches your audience effectively."})]}),(0,d.jsxs)("div",{className:"mb-12",children:[(0,d.jsx)("h2",{className:"text-3xl font-bold mb-8",children:"Sample Email Template"}),(0,d.jsx)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-8 mb-8",children:(0,d.jsxs)("div",{className:"max-w-2xl mx-auto bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[(0,d.jsx)("div",{className:"bg-gray-900 text-white p-6 text-center",children:(0,d.jsx)("h3",{className:"text-xl font-bold",children:"Thom Griggs — Front-End Developer"})}),(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)("h4",{className:"text-2xl font-bold mb-4",children:"Subject Line Headline"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Short preheader copy goes here. Summarize the value in one sentence."}),(0,d.jsx)("div",{className:"text-center mb-6",children:(0,d.jsx)("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-medium",children:"View Portfolio"})}),(0,d.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,d.jsx)("h5",{className:"font-bold text-lg mb-3",children:"Feature Block"}),(0,d.jsxs)("ul",{className:"space-y-2 text-gray-600 dark:text-gray-300",children:[(0,d.jsx)("li",{children:"• Bullet highlight one"}),(0,d.jsx)("li",{children:"• Bullet highlight two"}),(0,d.jsx)("li",{children:"• Bullet highlight three"})]})]}),(0,d.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,d.jsx)("h5",{className:"font-bold text-lg mb-3",children:"Project Spotlight"}),(0,d.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 h-32 rounded-lg mb-4 flex items-center justify-center",children:(0,d.jsx)("span",{className:"text-gray-500",children:"Project Screenshot"})}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"Quick paragraph describing the problem → solution → impact. Link to case study."}),(0,d.jsx)("button",{className:"px-4 py-2 bg-gray-200 dark:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-lg text-sm",children:"Read Case Study"})]}),(0,d.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[(0,d.jsx)("h5",{className:"font-bold text-lg mb-3",children:"Two-Column Features"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{className:"font-semibold mb-2",children:"Accessibility"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Skip links, keyboard nav, color contrast, semantic HTML."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h6",{className:"font-semibold mb-2",children:"Performance"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Image optimization, code splitting, lazy loading, caching."})]})]})]})]}),(0,d.jsx)("div",{className:"bg-gray-900 text-gray-400 p-4 text-center text-sm",children:"\xa9 2025 Thom Griggs • thomgriggs.com • Unsubscribe"})]})}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("a",{href:"/email-template.mjml",download:"thomgriggs-email-template.mjml",className:"inline-flex items-center px-8 py-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"\uD83D\uDCE5 Download MJML Template"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Free MJML template ready to customize"})]})]}),(0,d.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"What Makes My Emails Different"}),(0,d.jsxs)("ul",{className:"space-y-4 text-gray-600 dark:text-gray-300",children:[(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-blue-500 mr-3",children:"✓"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Modular Design:"})," Reusable components that maintain consistency across campaigns"]})]}),(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-blue-500 mr-3",children:"✓"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Client Compatibility:"})," Tested across major email clients (Gmail, Outlook, Apple Mail)"]})]}),(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-blue-500 mr-3",children:"✓"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Accessibility First:"})," Proper alt text, semantic structure, and screen reader support"]})]}),(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-blue-500 mr-3",children:"✓"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Mobile Optimized:"})," Responsive design that looks great on all screen sizes"]})]})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Technical Approach"}),(0,d.jsxs)("ul",{className:"space-y-4 text-gray-600 dark:text-gray-300",children:[(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-green-500 mr-3",children:"•"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"MJML Framework:"})," Streamlined development with reliable cross-client rendering"]})]}),(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-green-500 mr-3",children:"•"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Hand-coded HTML:"})," When MJML isn't enough, I write custom code for specific needs"]})]}),(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-green-500 mr-3",children:"•"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Performance Focused:"})," Optimized images, minimal CSS, fast loading times"]})]}),(0,d.jsxs)("li",{className:"flex items-start",children:[(0,d.jsx)("span",{className:"text-green-500 mr-3",children:"•"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("strong",{children:"Brand Consistency:"})," Templates that match your visual identity and tone"]})]})]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900/50 rounded-xl p-8 mb-12",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"My Email Design Process"}),(0,d.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("span",{className:"text-blue-600 dark:text-blue-400 font-bold",children:"1"})}),(0,d.jsx)("h4",{className:"font-semibold mb-2",children:"Discovery"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Understanding your brand, audience, and campaign goals"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("span",{className:"text-green-600 dark:text-green-400 font-bold",children:"2"})}),(0,d.jsx)("h4",{className:"font-semibold mb-2",children:"Design & Build"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Creating modular templates with your brand identity"})]}),(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"w-12 h-12 bg-purple-100 dark:bg-purple-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("span",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"3"})}),(0,d.jsx)("h4",{className:"font-semibold mb-2",children:"Test & Deploy"}),(0,d.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Cross-client testing and seamless integration"})]})]})]}),(0,d.jsxs)("div",{className:"text-center bg-blue-50 dark:bg-blue-900/20 rounded-xl p-8",children:[(0,d.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Ready to Upgrade Your Email Campaigns?"}),(0,d.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Let's discuss how custom email templates can improve your open rates and engagement."}),(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,d.jsx)(f(),{href:"/contact",className:"px-8 py-3 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start a Project"}),(0,d.jsx)("a",{href:"https://calendly.com/thomgriggs/30min",target:"_blank",rel:"noopener noreferrer",className:"px-8 py-3 border border-blue-600 text-blue-600 dark:text-blue-400 rounded-lg font-medium hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:"Book a Call"})]})]})]})]})}},19121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},26713:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/is-bot")},28354:a=>{"use strict";a.exports=require("util")},29294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:a=>{"use strict";a.exports=require("path")},41025:a=>{"use strict";a.exports=require("next/dist/server/app-render/dynamic-access-async-storage.external.js")},54098:(a,b,c)=>{"use strict";c.r(b),c.d(b,{GlobalError:()=>D.a,__next_app__:()=>J,handler:()=>L,pages:()=>I,routeModule:()=>K,tree:()=>H});var d=c(49754),e=c(9117),f=c(46595),g=c(32324),h=c(39326),i=c(38928),j=c(20175),k=c(12),l=c(54290),m=c(12696),n=c(82802),o=c(77533),p=c(45229),q=c(32822),r=c(261),s=c(26453),t=c(52474),u=c(26713),v=c(51356),w=c(62685),x=c(36225),y=c(63446),z=c(2762),A=c(45742),B=c(86439),C=c(81170),D=c.n(C),E=c(62506),F=c(91203),G={};for(let a in E)0>["default","tree","pages","GlobalError","__next_app__","routeModule","handler"].indexOf(a)&&(G[a]=()=>E[a]);c.d(b,G);let H={children:["",{children:["email-design",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(c.bind(c,15075)),"/Users/thomasgriggs/Development/portfolio-site/src/app/email-design/page.tsx"]}]},{metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,70440))).default(a)],apple:[],openGraph:[async a=>(await Promise.resolve().then(c.bind(c,9799))).default(a)],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(c.bind(c,39553)),"/Users/thomasgriggs/Development/portfolio-site/src/app/layout.tsx"],"global-error":[()=>Promise.resolve().then(c.t.bind(c,81170,23)),"next/dist/client/components/builtin/global-error.js"],"not-found":[()=>Promise.resolve().then(c.bind(c,59732)),"/Users/thomasgriggs/Development/portfolio-site/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(c.t.bind(c,90461,23)),"next/dist/client/components/builtin/forbidden.js"],unauthorized:[()=>Promise.resolve().then(c.t.bind(c,32768,23)),"next/dist/client/components/builtin/unauthorized.js"],metadata:{icon:[async a=>(await Promise.resolve().then(c.bind(c,70440))).default(a)],apple:[],openGraph:[async a=>(await Promise.resolve().then(c.bind(c,9799))).default(a)],twitter:[],manifest:void 0}}]}.children,I=["/Users/thomasgriggs/Development/portfolio-site/src/app/email-design/page.tsx"],J={require:c,loadChunk:()=>Promise.resolve()},K=new d.AppPageRouteModule({definition:{kind:e.RouteKind.APP_PAGE,page:"/email-design/page",pathname:"/email-design",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:H},distDir:".next",relativeProjectDir:""});async function L(a,b,d){var C;let G="/email-design/page";"/index"===G&&(G="/");let M=(0,h.getRequestMeta)(a,"postponed"),N=(0,h.getRequestMeta)(a,"minimalMode"),O=await K.prepare(a,b,{srcPage:G,multiZoneDraftMode:!1});if(!O)return b.statusCode=400,b.end("Bad Request"),null==d.waitUntil||d.waitUntil.call(d,Promise.resolve()),null;let{buildId:P,query:Q,params:R,parsedUrl:S,pageIsDynamic:T,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,serverActionsManifest:X,clientReferenceManifest:Y,subresourceIntegrityManifest:Z,prerenderManifest:$,isDraftMode:_,resolvedPathname:aa,revalidateOnlyGenerated:ab,routerServerContext:ac,nextConfig:ad,interceptionRoutePatterns:ae}=O,af=S.pathname||"/",ag=(0,r.normalizeAppPath)(G),{isOnDemandRevalidate:ah}=O,ai=K.match(af,$),aj=!!$.routes[aa],ak=!!(ai||aj||$.routes[ag]),al=a.headers["user-agent"]||"",am=(0,u.getBotType)(al),an=(0,p.isHtmlBotRequest)(a),ao=(0,h.getRequestMeta)(a,"isPrefetchRSCRequest")??"1"===a.headers[t.NEXT_ROUTER_PREFETCH_HEADER],ap=(0,h.getRequestMeta)(a,"isRSCRequest")??!!a.headers[t.RSC_HEADER],aq=(0,s.getIsPossibleServerAction)(a),ar=(0,m.checkIsAppPPREnabled)(ad.experimental.ppr)&&(null==(C=$.routes[ag]??$.dynamicRoutes[ag])?void 0:C.renderingMode)==="PARTIALLY_STATIC",as=!1,at=!1,au=ar?M:void 0,av=ar&&ap&&!ao,aw=(0,h.getRequestMeta)(a,"segmentPrefetchRSCRequest"),ax=!al||(0,p.shouldServeStreamingMetadata)(al,ad.htmlLimitedBots);an&&ar&&(ak=!1,ax=!1);let ay=!0===K.isDev||!ak||"string"==typeof M||av,az=an&&ar,aA=null;_||!ak||ay||aq||au||av||(aA=aa);let aB=aA;!aB&&K.isDev&&(aB=aa),K.isDev||_||!ak||!ap||av||(0,k.d)(a.headers);let aC={...E,tree:H,pages:I,GlobalError:D(),handler:L,routeModule:K,__next_app__:J};X&&Y&&(0,o.setReferenceManifestsSingleton)({page:G,clientReferenceManifest:Y,serverActionsManifest:X,serverModuleMap:(0,q.createServerModuleMap)({serverActionsManifest:X})});let aD=a.method||"GET",aE=(0,g.getTracer)(),aF=aE.getActiveScopeSpan();try{let f=K.getVaryHeader(aa,ae);b.setHeader("Vary",f);let k=async(c,d)=>{let e=new l.NodeNextRequest(a),f=new l.NodeNextResponse(b);return K.render(e,f,d).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=aE.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==i.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${aD} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${aD} ${a.url}`)})},m=async({span:e,postponed:f,fallbackRouteParams:g})=>{let i={query:Q,params:R,page:ag,sharedContext:{buildId:P},serverComponentsHmrCache:(0,h.getRequestMeta)(a,"serverComponentsHmrCache"),fallbackRouteParams:g,renderOpts:{App:()=>null,Document:()=>null,pageConfig:{},ComponentMod:aC,Component:(0,j.T)(aC),params:R,routeModule:K,page:G,postponed:f,shouldWaitOnAllReady:az,serveStreamingMetadata:ax,supportsDynamicResponse:"string"==typeof f||ay,buildManifest:U,nextFontManifest:V,reactLoadableManifest:W,subresourceIntegrityManifest:Z,serverActionsManifest:X,clientReferenceManifest:Y,setIsrStatus:null==ac?void 0:ac.setIsrStatus,dir:c(33873).join(process.cwd(),K.relativeProjectDir),isDraftMode:_,isRevalidate:ak&&!f&&!av,botType:am,isOnDemandRevalidate:ah,isPossibleServerAction:aq,assetPrefix:ad.assetPrefix,nextConfigOutput:ad.output,crossOrigin:ad.crossOrigin,trailingSlash:ad.trailingSlash,previewProps:$.preview,deploymentId:ad.deploymentId,enableTainting:ad.experimental.taint,htmlLimitedBots:ad.htmlLimitedBots,devtoolSegmentExplorer:ad.experimental.devtoolSegmentExplorer,reactMaxHeadersLength:ad.reactMaxHeadersLength,multiZoneDraftMode:!1,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:ad.experimental.cacheLife,basePath:ad.basePath,serverActions:ad.experimental.serverActions,...as?{nextExport:!0,supportsDynamicResponse:!1,isStaticGeneration:!0,isRevalidate:!0,isDebugDynamicAccesses:as}:{},experimental:{isRoutePPREnabled:ar,expireTime:ad.expireTime,staleTimes:ad.experimental.staleTimes,cacheComponents:!!ad.experimental.cacheComponents,clientSegmentCache:!!ad.experimental.clientSegmentCache,clientParamParsing:!!ad.experimental.clientParamParsing,dynamicOnHover:!!ad.experimental.dynamicOnHover,inlineCss:!!ad.experimental.inlineCss,authInterrupts:!!ad.experimental.authInterrupts,clientTraceMetadata:ad.experimental.clientTraceMetadata||[]},waitUntil:d.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:()=>{},onInstrumentationRequestError:(b,c,d)=>K.onRequestError(a,b,d,ac),err:(0,h.getRequestMeta)(a,"invokeError"),dev:K.isDev}},l=await k(e,i),{metadata:m}=l,{cacheControl:n,headers:o={},fetchTags:p}=m;if(p&&(o[y.NEXT_CACHE_TAGS_HEADER]=p),a.fetchMetrics=m.fetchMetrics,ak&&(null==n?void 0:n.revalidate)===0&&!K.isDev&&!ar){let a=m.staticBailoutInfo,b=Object.defineProperty(Error(`Page changed from static to dynamic at runtime ${aa}${(null==a?void 0:a.description)?`, reason: ${a.description}`:""}
see more here https://nextjs.org/docs/messages/app-static-to-dynamic-error`),"__NEXT_ERROR_CODE",{value:"E132",enumerable:!1,configurable:!0});if(null==a?void 0:a.stack){let c=a.stack;b.stack=b.message+c.substring(c.indexOf("\n"))}throw b}return{value:{kind:v.CachedRouteKind.APP_PAGE,html:l,headers:o,rscData:m.flightData,postponed:m.postponed,status:m.statusCode,segmentData:m.segmentData},cacheControl:n}},o=async({hasResolved:c,previousCacheEntry:f,isRevalidating:g,span:i})=>{let j,k=!1===K.isDev,l=c||b.writableEnded;if(ah&&ab&&!f&&!N)return(null==ac?void 0:ac.render404)?await ac.render404(a,b):(b.statusCode=404,b.end("This page could not be found")),null;if(ai&&(j=(0,w.parseFallbackField)(ai.fallback)),j===w.FallbackMode.PRERENDER&&(0,u.isBot)(al)&&(!ar||an)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),(null==f?void 0:f.isStale)===-1&&(ah=!0),ah&&(j!==w.FallbackMode.NOT_FOUND||f)&&(j=w.FallbackMode.BLOCKING_STATIC_RENDER),!N&&j!==w.FallbackMode.BLOCKING_STATIC_RENDER&&aB&&!l&&!_&&T&&(k||!aj)){let b;if((k||ai)&&j===w.FallbackMode.NOT_FOUND)throw new B.NoFallbackError;if(ar&&!ap){let c="string"==typeof(null==ai?void 0:ai.fallback)?ai.fallback:k?ag:null;if(b=await K.handleResponse({cacheKey:c,req:a,nextConfig:ad,routeKind:e.RouteKind.APP_PAGE,isFallback:!0,prerenderManifest:$,isRoutePPREnabled:ar,responseGenerator:async()=>m({span:i,postponed:void 0,fallbackRouteParams:k||at?(0,n.u)(ag):null}),waitUntil:d.waitUntil}),null===b)return null;if(b)return delete b.cacheControl,b}}let o=ah||g||!au?void 0:au;if(as&&void 0!==o)return{cacheControl:{revalidate:1,expire:void 0},value:{kind:v.CachedRouteKind.PAGES,html:x.default.EMPTY,pageData:{},headers:void 0,status:void 0}};let p=T&&ar&&((0,h.getRequestMeta)(a,"renderFallbackShell")||at)?(0,n.u)(af):null;return m({span:i,postponed:o,fallbackRouteParams:p})},p=async c=>{var f,g,i,j,k;let l,n=await K.handleResponse({cacheKey:aA,responseGenerator:a=>o({span:c,...a}),routeKind:e.RouteKind.APP_PAGE,isOnDemandRevalidate:ah,isRoutePPREnabled:ar,req:a,nextConfig:ad,prerenderManifest:$,waitUntil:d.waitUntil});if(_&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate"),K.isDev&&b.setHeader("Cache-Control","no-store, must-revalidate"),!n){if(aA)throw Object.defineProperty(Error("invariant: cache entry required but not generated"),"__NEXT_ERROR_CODE",{value:"E62",enumerable:!1,configurable:!0});return null}if((null==(f=n.value)?void 0:f.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant app-page handler received invalid cache entry ${null==(i=n.value)?void 0:i.kind}`),"__NEXT_ERROR_CODE",{value:"E707",enumerable:!1,configurable:!0});let p="string"==typeof n.value.postponed;ak&&!av&&(!p||ao)&&(N||b.setHeader("x-nextjs-cache",ah?"REVALIDATED":n.isMiss?"MISS":n.isStale?"STALE":"HIT"),b.setHeader(t.NEXT_IS_PRERENDER_HEADER,"1"));let{value:q}=n;if(au)l={revalidate:0,expire:void 0};else if(N&&ap&&!ao&&ar)l={revalidate:0,expire:void 0};else if(!K.isDev)if(_)l={revalidate:0,expire:void 0};else if(ak){if(n.cacheControl)if("number"==typeof n.cacheControl.revalidate){if(n.cacheControl.revalidate<1)throw Object.defineProperty(Error(`Invalid revalidate configuration provided: ${n.cacheControl.revalidate} < 1`),"__NEXT_ERROR_CODE",{value:"E22",enumerable:!1,configurable:!0});l={revalidate:n.cacheControl.revalidate,expire:(null==(j=n.cacheControl)?void 0:j.expire)??ad.expireTime}}else l={revalidate:y.CACHE_ONE_YEAR,expire:void 0}}else b.getHeader("Cache-Control")||(l={revalidate:0,expire:void 0});if(n.cacheControl=l,"string"==typeof aw&&(null==q?void 0:q.kind)===v.CachedRouteKind.APP_PAGE&&q.segmentData){b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"2");let c=null==(k=q.headers)?void 0:k[y.NEXT_CACHE_TAGS_HEADER];N&&ak&&c&&"string"==typeof c&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,c);let d=q.segmentData.get(aw);return void 0!==d?(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(d,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl}):(b.statusCode=204,(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.EMPTY,cacheControl:n.cacheControl}))}let r=(0,h.getRequestMeta)(a,"onCacheEntry");if(r&&await r({...n,value:{...n.value,kind:"PAGE"}},{url:(0,h.getRequestMeta)(a,"initURL")}))return null;if(p&&au)throw Object.defineProperty(Error("Invariant: postponed state should not be present on a resume request"),"__NEXT_ERROR_CODE",{value:"E396",enumerable:!1,configurable:!0});if(q.headers){let a={...q.headers};for(let[c,d]of(N&&ak||delete a[y.NEXT_CACHE_TAGS_HEADER],Object.entries(a)))if(void 0!==d)if(Array.isArray(d))for(let a of d)b.appendHeader(c,a);else"number"==typeof d&&(d=d.toString()),b.appendHeader(c,d)}let s=null==(g=q.headers)?void 0:g[y.NEXT_CACHE_TAGS_HEADER];if(N&&ak&&s&&"string"==typeof s&&b.setHeader(y.NEXT_CACHE_TAGS_HEADER,s),!q.status||ap&&ar||(b.statusCode=q.status),!N&&q.status&&F.RedirectStatusCode[q.status]&&ap&&(b.statusCode=200),p&&b.setHeader(t.NEXT_DID_POSTPONE_HEADER,"1"),ap&&!_){if(void 0===q.rscData){if(q.postponed)throw Object.defineProperty(Error("Invariant: Expected postponed to be undefined"),"__NEXT_ERROR_CODE",{value:"E372",enumerable:!1,configurable:!0});return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:q.html,cacheControl:av?{revalidate:0,expire:void 0}:n.cacheControl})}return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:x.default.fromStatic(q.rscData,t.RSC_CONTENT_TYPE_HEADER),cacheControl:n.cacheControl})}let u=q.html;if(!p||N||ap)return(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:n.cacheControl});if(as)return u.push(new ReadableStream({start(a){a.enqueue(z.ENCODED_TAGS.CLOSED.BODY_AND_HTML),a.close()}})),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}});let w=new TransformStream;return u.push(w.readable),m({span:c,postponed:q.postponed,fallbackRouteParams:null}).then(async a=>{var b,c;if(!a)throw Object.defineProperty(Error("Invariant: expected a result to be returned"),"__NEXT_ERROR_CODE",{value:"E463",enumerable:!1,configurable:!0});if((null==(b=a.value)?void 0:b.kind)!==v.CachedRouteKind.APP_PAGE)throw Object.defineProperty(Error(`Invariant: expected a page response, got ${null==(c=a.value)?void 0:c.kind}`),"__NEXT_ERROR_CODE",{value:"E305",enumerable:!1,configurable:!0});await a.value.html.pipeTo(w.writable)}).catch(a=>{w.writable.abort(a).catch(a=>{console.error("couldn't abort transformer",a)})}),(0,A.sendRenderResult)({req:a,res:b,generateEtags:ad.generateEtags,poweredByHeader:ad.poweredByHeader,result:u,cacheControl:{revalidate:0,expire:void 0}})};if(!aF)return await aE.withPropagatedContext(a.headers,()=>aE.trace(i.BaseServerSpan.handleRequest,{spanName:`${aD} ${a.url}`,kind:g.SpanKind.SERVER,attributes:{"http.method":aD,"http.target":a.url}},p));await p(aF)}catch(b){throw aF||b instanceof B.NoFallbackError||await K.onRequestError(a,b,{routerKind:"App Router",routePath:G,routeType:"render",revalidateReason:(0,f.c)({isRevalidate:ak,isOnDemandRevalidate:ah})},ac),b}}},63033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65735:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,3991,23))},86439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")}};var b=require("../../webpack-runtime.js");b.C(a);var c=b.X(0,[873,428,895,81],()=>b(b.s=54098));module.exports=c})();